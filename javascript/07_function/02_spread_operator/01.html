<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        /*
         * 전개 연산자 spread operator
         * 배열을 전개해서 함수의 매개 변수로 전달.
         * 전개 연산자는 일반적으로 1) 함수 호출시 2) 배열 앞에서 마침표 3개(...) 를 붙이는 형태로 사용.
         *
         * 기본형 : 함수 호출시
         * 함수이름(... 배열)
         */
        'use strict';
        const array = [1, 2, 3, 4];

        // 1. 기본적인 전개 연산자 사용법
        // 1) 인수로 전달
        function sample1st(a, b, c, d) {
            console.log('sample1st() 실행');
            console.log(a, b, c, d);
        }

        //
        sample1st(...array);// 아래 방식과 동일하게 출력됨
        // ...array의 요소 가 각각 a,b,c,d 순으로 들어감

        // 기존 틀니 방식
        sample1st(array[0], array[1], array[2], array[3]);

        // 2. 나머지 매개 변수와 함께 사용하는 경우
        function sample2nd() {
            console.log('sample2nd() 실행');
            let array = [1, 2, 3, 4];
            return array;
        }

        console.log(sample2nd()); // [1,2,3,4]. 결과 값은 배열
        // sample2nd() 호출 결과를 각각 변수에 저장하려면?
        // let arrayNew = sample2st();
        // let a = arrayNew[0];
        // let b = arrayNew[1];
        // let c = arrayNew[2];
        // let d = arrayNew[3];

        let [a, b, c, d] = sample2nd(); // 배열을 각 변수에 할당
        console.log(a);// 1

        document.write(`${a}`);

        // 2. 나머지 매개 변수와 함께 사용 하는 경우
        function sample3rd(...items) { // 단순하게 매개변수를 모두 출력하는 함수
            document.write('<br>sample3rd() 실행<br>');
            document.write(items, '<br>');
            for (const item of items) { // 배열로 인식되야 실행됨
                document.write(item, '<br>');
            }
        }

        console.log('# 전개 연산자를 사용하지 않는 경우');
        sample3rd(array); // 배열의 요소로 배열을 가진 매개변수가 됨. [[1,2,3,4]];
        console.log('# 전개 연산자를 사용하는 경우');
        sample3rd(...array); // 숫자 하나하나가 전개되어서 들어옴. 배열의 요소가 4개인 매개변수가 됨.
        // [1,2,3,4]


        // 3. 일반 매개 변수에 전개 연산자 사용
        function sample4th(items) {
            document.write('<br>sample4th() 실행<br>');
            document.write(items, '<br>');
            for (const item of items) {
                document.write(items, '<br>');
            }
        }

        // 전개 되어서 전달이 됨. sample4th(1,2,3,4) 과 동일한 결과.
        // items에 1만 전달이 되고, 배열이 아니기 때문에 for문으로 순회가 안됨
        sample4th(array);
        sample4th(...array); // 1. Uncaught TypeError: items is not iterable at sample4th()
        sample4th(array[0], array[1], array[2], array[3]);
        // 01. Uncaught TypeError: items is not iterable at sample4th

    </script>
</head>
<body>

</body>
</html>