<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/register.css">
    <script>
        /*
         * 회원 가입 페이지 입력 값 검증하기
         * 1. [가입하기] 버튼을 클릭하면 아이디 글자 수 확인하기
         *
         * 2. 비밀번호 환인하기
         */
        document.addEventListener("DOMContentLoaded", () => {
            const frmRegister = document.getElementById('register'); // 폼태그
            console.log(frmRegister);
            // const btnSubmit = document.querySelector('button:nth-child(1)');
            const userId = document.getElementById('user-id');
            const btnSubmit = document.querySelector('input[type=button]');
            // console.log(btnSubmit.value);

            btnSubmit.addEventListener('click', function () {
                console.log(document.querySelector('#user-id').value);
                console.log(document.querySelector('#user-id').value.length);
                console.log('눌림');
                // if (!btnSubmit.checked) {
                if (userId.value.length <= 3 || userId.value.length >= 16) {
                    // userId 필드 내용의 길이가 4미만이거나 15보다 더 큰 경우 실행
                    alert('4~15자리로 입력하세요.'); // 오류 메시지 출력
                    /*
                     * select() : 사용자가 기존에 입력한 값을 선택
                     * focus() : 사용자가 기존에 입력한 값을 지우고 새로운 값을 입력하도록 텍스트 필드에 커서를 가져다 놓음.
                     */
                    userId.select();
                    // 해당 함수 (4~15를 벗어난) 호출되었을떄는 submit 방지
                    return;

                }
                // 버튼에 타입을 submit으로 하기보다 이렇게 버튼을 클릭해서 여기서 submit을 실행하는경우
                frmRegister.submit();
            });
            // 1. 아이디
            // 2. 비밀번호
            // 3. 비밀번호 같은지 확인
            // 4. 가입하기 버튼


        });
    </script>
</head>
<body>
<div id="container">
    <h1>회원 가입</h1>
    <form action="#" id="register">
        <ul id="user-info">
            <li>
                <label for="user-id" class="field">아이디</label>
                <input type="text" name="user-id" id="user-id" placeholder="4~15자리로 입력" required>
            </li>
            <li>
                <label for="email" class="field">이메일</label>
                <input type="email" name="email" id="email" required>
            </li>
            <li>
                <label for="user-pw1" class="field">비밀번호</label>
                <input type="password" name="user-pw1" id="user-pw1" placeholder="8자리 이상" required>
            </li>
            <li>
                <label for="user-pw2" class="field">비밀번호 확인</label>
                <input type="password" name="user-pw2" id="user-pw2" required>
            </li>
            <li>
                <label class="field">메일링 수신</label>
                <label class="r"><input type="radio" value="yes" name="mailing">예</label>
                <label class="r"><input type="radio" value="no" name="mailing">아니요</label>
            </li>
        </ul>
        <ul id="buttons">
            <li>
                <input type="button" class="btn btnBlack" value="가입하기">
            </li>
            <li>
                <input type="reset" class="btn btnGray" value="취소">
            </li>
        </ul>
    </form>
</div>
</body>
</html>